!function(){"use strict";var t;!function(t){t[t.ELEMENT=0]="ELEMENT",t[t.CLOSE_ELEMENT=1]="CLOSE_ELEMENT",t[t.COMMENT=2]="COMMENT",t[t.CDATA=3]="CDATA"}(t||(t={}));var E=function(){},n=function(){function n(){this.onText=E,this.onElementStart=E,this.onElementEnd=E,this.onCData=E,this.onComment=E}return n.prototype.parse=function(E){for(var r=null,e=0,i=0;i<E.length;i++)if(null!==r){if(r===t.ELEMENT){var A=E.indexOf(n.ELEMENT_SUFFIX,i);if(A===-1)break;for(var s=null,u=i;u<A;u++){var T=E.charCodeAt(u);if(T===n.FORWARD_SLASH||T===n.SPACE){s=E.substring(i,u),i=u;break}}null===s&&(s=E.substring(i,A)),s&&(this.onElementStart(s,function(){return n.extractAttributes(E,i,A)}),E.charCodeAt(A-1)===n.FORWARD_SLASH&&this.onElementEnd(s)),i=A}else if(r===t.CLOSE_ELEMENT){var A=E.indexOf(n.ELEMENT_SUFFIX,i);if(A===-1)break;this.onElementEnd(E.substring(i,A)),i=A}else if(r===t.CDATA){var A=E.indexOf(n.CDATA_SUFFIX,i);if(A===-1)break;this.onCData(function(){return E.substring(i,A)}),i=A+2}else if(r===t.COMMENT){var A=E.indexOf(n.COMMENT_SUFFIX,i);if(A===-1)break;this.onComment(function(){return E.substring(i,A)}),i=A+2}e=i+1,r=null}else if(E.charCodeAt(i)===n.OPEN_BRACKET){var a=E.charCodeAt(i+1);a===n.FORWARD_SLASH?(i-e>0&&this.onText(function(){return E.substring(e,i)}),r=t.CLOSE_ELEMENT,i+=1):a===n.EXCLAMATION_POINT?n.startsWith(E,i+2,n.CDATA_PREFIX)?(r=t.CDATA,i+=8):n.startsWith(E,i+2,n.COMMENT_PREFIX)&&(r=t.COMMENT,i+=3):r=t.ELEMENT}},n.extractAttributes=function(t,E,r){for(var e={},i=null,A=E;A<r;A++){var s=t.charCodeAt(A);null===i?s===n.EQUALS?(i=t.substring(E,A),A+=1,E=A):s!==n.SPACE&&s!==n.NEW_LINE||(A+=1,E=A):s!==n.DOUBLE_QUOTE&&s!==n.SINGLE_QUOTE||(e[i]=t.substring(E+1,A),E=A+1,i=null)}return e},n.startsWith=function(t,E,n){if(t.length-E<n.length)return!1;for(var r=0;r<n.length;r++)if(t.charCodeAt(E+r)!==n.charCodeAt(r))return!1;return!0},n.OPEN_BRACKET=60,n.FORWARD_SLASH=47,n.EXCLAMATION_POINT=33,n.EQUALS=61,n.NEW_LINE=10,n.SPACE=32,n.SINGLE_QUOTE=39,n.DOUBLE_QUOTE=34,n.CDATA_PREFIX="[CDATA[",n.CDATA_SUFFIX="]]>",n.ELEMENT_SUFFIX=">",n.COMMENT_PREFIX="--",n.COMMENT_SUFFIX="-->",n}();window.FastSax=n}();